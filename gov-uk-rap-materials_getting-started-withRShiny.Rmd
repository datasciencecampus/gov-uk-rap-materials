---
title: "RShiny and flex_dashboard example"
author: "Joseph Crispell"
date: "`r format(Sys.Date(), '%d %b %Y')`"
output:
    flexdashboard::flex_dashboard:
      orientation: columns
      source_code: embed
runtime: shiny
---

```{r global, include=FALSE}
# Using "global" chunk so data is available to all users

# Load libraries
library(datasets) # Load datasets package - example datasets
library(plotly) # Interative plots

# Load example data sets
data(faithful) # Load eruption data
data(iris) # Plant species information
```

Guide
=====================================

### Introduction

The current document provides some simple examples that combine `flex_dashboard` and `RShiny` to create interactive dashboards for visualising and exploring data. As you can see this document is a work in progress!!

View this dashboard in your browser (once you have `Run Document` locally in RStudio) at:
[`http://127.0.0.1:7068/gov-uk-rap-materials_getting-started-withRShiny.Rmd#section-example-geyser`](http://127.0.0.1:7068/gov-uk-rap-materials_getting-started-withRShiny.Rmd#section-example-geyser)

### Useful resources

Here's a list of resources that I found really useful when I was creating this dashboard:

- [Using `RShiny` and `flex_dashboard`](https://rmarkdown.rstudio.com/flexdashboard/shiny.html)
- [Getting started with `flex_dashboard`](https://rmarkdown.rstudio.com/flexdashboard/using.html)
- [Getting started with `RShiny`](https://shiny.rstudio.com/tutorial/)
- [Examples of `RShiny` and `flex_dashboard` in action](https://rmarkdown.rstudio.com/flexdashboard/examples.html)
- [Creating an `RShiny` `flex_dashboard`](https://medium.com/analytics-vidhya/shiny-dashboards-with-flexdashboard-e66aaafac1f2)
- [Where to host your `Rshiny` application](https://shiny.rstudio.com/deploy/)


Example: Selecting datasets
=====================================

Column {.sidebar}
-----------------------------------------------------------------------

Select which dataset you would like to visualise:

```{r}
selectInput("dataset", label="Choose dataset:",
            choices=c("geyser", "iris"), 
            selected="iris")
```

Column
-----------------------------------------------------------------------

### Interactive graphic

```{r}

# CHeck which dataset selected
dataset <- reactive(input$dataset)

renderPlot({
  
  if(input$dataset == "iris"){
    hist(faithful$eruptions, probability=TRUE, breaks=10,
       xlab="Duration (minutes)", main="Geyser Eruption Duration", col="red")
  
    dens <- density(faithful$eruptions, adjust=1)
    lines(dens, col="blue")
  }else{
    hist(faithful$eruptions, probability=TRUE, breaks=10,
         xlab="Duration (minutes)", main="Geyser Eruption Duration", col="blue")
  
    dens <- density(faithful$eruptions, adjust=1)
    lines(dens, col="blue")
  }
})

```
